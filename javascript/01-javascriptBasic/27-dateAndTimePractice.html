<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        // 1. üßÆ Age Calculator

        function getAge(dobStr) {
            let dob = new Date(dobStr); // Thu Jan 23 2003

            // Date.now() gives the current time in milliseconds (from Jan 1, 1970).
            // dob.getTime() gives the dob's time in milliseconds (from Jan 1, 1970).
            let diff = Date.now() - dob.getTime(); //age in ms

            // Creating date from diff ms wrt (1 jan 1970)
            let ageDate = new Date(diff);// 1992-05-23T11:37:01.957Z
            
            return Math.abs(ageDate.getUTCFullYear() - 1970); //1992 - 1970
        }
        console.log(getAge("2003-01-23"));
        console.log("\n");
        





        //  2. ‚è≥ Countdown Timer

        function getTimeLeft(targetDateStr){

            // Current date and time
            let now = new Date();

            // Convert target date string to Date object
            let target = new Date(targetDateStr);

            // Get difference in milliseconds
            let diff = target - now;

            // If the date has already passed
            if (diff <= 0) return "Time's up!";

            // Convert milliseconds to days, hours, minutes, seconds
            let days = Math.floor(diff / (1000 * 60 * 60 * 24));
            let hours = Math.floor(diff / (1000 * 60 * 60)) % 24;
            let minutes = Math.floor(diff / (1000 * 60)) % 60;
            let seconds = Math.floor(diff / 1000) % 60;

            return `${days}d ${hours}h ${minutes}m ${seconds}s left`;
        }
        console.log(getTimeLeft("2025-12-31T23:59:59"));
        console.log(getTimeLeft("2025-10-15"));
        console.log("\n");
        





        // üéÇ Birthday reminder 

        function birthdayReminder(dobStr) {

            let now = new Date(); // today's date : Sat Jun 14 2025 17:56:08 GMT+0530 (India Standard Time)
            
            let dob = new Date(dobStr); // dob : Sun Feb 23 2003 05:30:00 GMT+0530 (India Standard Time)

            let targetYear = now.getFullYear(); // 2025

            // Create target date for this year's birthday
            let nextBirthday = new Date(targetYear, dob.getMonth(), dob.getDate()); // nextBirthday : Sun Feb 23 2025 00:00:00 GMT+0530 (India Standard Time)
            
            
            // If birthday already passed this year, set it to next year 
            if (nextBirthday < now) {
                nextBirthday.setFullYear(targetYear + 1); // set to Feb 23, 2026
            }

            // Get difference in milliseconds
            let diff = nextBirthday - now; // date diff in ms wrt (1 jan 1970) : 21880669713 ms
            
            // If birthday is now
            if (diff <= 0) return "Happy Birthday !!";

            // Total seconds remaining
            let totalSeconds = Math.floor( diff / 1000 ); //date diff in seconds : 21880428 sec
            
            // Breakdown of time left
            let daysTotal = Math.floor(totalSeconds / (60 * 60 * 24));
            let hours = Math.floor(totalSeconds / (60 * 60)) % 24;
            let minutes = Math.floor(totalSeconds / 60) % 60;
            let seconds = totalSeconds % 60;

            // Estimate months (assuming avg 30.44 days per month)
            let months = Math.floor(daysTotal / 30.44); // devide with month(30.44) will give months
            let days = Math.floor(daysTotal % 30.44); // modulo with month(30.44) will give day

            return `${months}mo ${days}d ${hours}h ${minutes}m ${seconds}s left for birthday üéÇ`;
        }

        console.log(birthdayReminder("2003-02-23"));
        
    </script>
</body>
</html>